(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{609:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("在需要使用ListBox加载大量数据时，可以考虑开启虚拟化，但需要注意的是，虚拟化不一定能开启成功。")]),t._v(" "),s("p",[t._v("以下是一些原因：")]),t._v(" "),s("ul",[s("li",[t._v("ListBox内部的ScorllViewer不能去掉"),s("br"),t._v("\n如果使用了DataTemplate，需要将其中的 "),s("code",[t._v("ItemsPresenter")]),t._v(" 用 "),s("code",[t._v("ScrollViewer")]),t._v(" 包裹起来；")])]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ControlTemplate")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("TargetType")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ListBox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Border")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("SnapsToDevicePixels")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("True"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ScrollViewer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("CanContentScroll")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("True"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ItemsPresenter")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("SnapsToDevicePixels")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{TemplateBinding UIElement.SnapsToDevicePixels}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ScrollViewer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Border")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ControlTemplate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n")])])]),s("ul",[s("li",[s("p",[t._v("ListBox外面不能使用 ScrollViewer")])]),t._v(" "),s("li",[s("p",[t._v("ListBox的 "),s("code",[t._v('ScrollViewer.CanContentScroll ="True"')]),s("br"),t._v(" "),s("a",{attrs:{href:"http://www.cnblogs.com/kybs0/p/7649463.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WPF ListBox 像素滚动"),s("OutboundLink")],1)])])]),t._v(" "),s("blockquote",[s("p",[t._v("放ListBox的容器必须是有限高度的，不能是StackPanel这样，否则ScrollViewer是不会出现哒。")])]),t._v(" "),s("p",[t._v("以下是其它的一些参考文章：")]),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"http://www.knna.me/2015/11/06/WPF%E4%BD%BF%E7%94%A8ListBox%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%E5%92%8C%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E8%99%9A%E6%8B%9F%E5%8C%96%E6%93%8D%E4%BD%9C/",target:"_blank",rel:"noopener noreferrer"}},[t._v("WPF使用ListBox进行分组和大量数据虚拟化操作"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"http://www.cnblogs.com/anding/p/4987426.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WPF自定义控件与样式(6)-ScrollViewer与ListBox自定义样式"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"http://www.cnblogs.com/TianFang/p/4199698.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WPF的UI虚拟化"),s("OutboundLink")],1)])])]),t._v(" "),s("p",[t._v("获取视觉树中的元素：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ListboxElementName.GetFirstVisualChild<ScrollViewer>();\n")])])]),s("p",[s("a",{attrs:{href:"https://stackoverflow.com/questions/10293236/accessing-the-scrollviewer-of-a-listbox-from-c-sharp",target:"_blank",rel:"noopener noreferrer"}},[t._v("Accessing the ScrollViewer of a ListBox from C#"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);